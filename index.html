<!DOCTYPE html>
<html>
	<head>
		<!-- <link rel="stylesheet" type="text/css" href="http://parallemon.com/style.css"> -->
		<link rel="stylesheet" type="text/css" href="/style.css">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	</head>
	<body>
		<div class="container">
			
			<div class="title">
				<h1>COLLABORATIVE EDITING TOOLS</h1>
				<p>Hello, insert your username to start</p>
			</div>

			<table>
				<tr>
					<td style="width: 100px;">Username:</td>
					<td><input id="signinUsername" type="text" name="username"/></td>
					<td><input class="btn" type="submit" name="signin" value="START" onclick="signin()" style="margin-left: 20px;"></td>
				</tr>
			</table>
			
		</div>
	</body>

	<script type="text/javascript">

		function signin(){
			var http = new XMLHttpRequest();
			var url = "http://localhost:10001/signin";
			var params = document.getElementById("signinUsername").value;;
			http.open("POST", url, true);

			//Send the proper header information along with the request
			http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

			http.onreadystatechange = function() {
				if (http.readyState == 4 && http.status == 200) {
					window.location = http.responseText;
					document.cookie = "username = " + params;
				}
			}

			http.send(params);
		}
	</script>
</html>