<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="http://parallemon.com/style.css">
		<script src="//cdn.tinymce.com/4/tinymce.min.js"></script>
		<script
  src="http://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  		<script>tinymce.init({ selector:'textarea' });</script>
	</head>
	<body>
		<div class="container">
			<h1>COLLABORATIVE EDITING TOOLS</h1>
			<textarea id="textarea">hello world</textarea>
			<input type="submit" value="save" name="save" onclick="grabContent()"> <input type="submit" value="reset" name="reset">
		</div>
	</body>

	<script type="text/javascript">

		function sendMessage() {
			var http = new XMLHttpRequest();
			var url = "http://localhost:10001/edit/test";
			var params = "lorem=ipsum&name=binny";
			http.open("POST", url, true);

			//Send the proper header information along with the request
			http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

			http.onreadystatechange = function() {//Call a function when the state changes.
			    if(http.readyState == 4 && http.status == 200) {
			        alert(http.responseText);
			    }
			}
			http.send(params);
		}

		function grabContent() {

			// Get the HTML contents of the currently active editor
			console.debug(tinyMCE.activeEditor.getContent());

			alert(tinyMCE.activeEditor.getContent());

// // Get the raw contents of the currently active editor
// tinyMCE.activeEditor.getContent({format : 'raw'});

// // Get content of a specific editor:
// tinyMCE.get('content id').getContent()

// 			var content =  tinyMCE.getContent('textarea');
// 			alert(content);
		}
	</script>
</html>